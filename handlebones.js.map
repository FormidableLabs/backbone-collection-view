{"version":3,"file":"handlebones.js.map","sources":["handlebones.js"],"names":["root","factory","define","amd","_","Backbone","Handlebars","$","exports","Handlebones","require","jQuery","Zepto","ender","this","hasClassName","name","RegExp","test","className","addClassName","call","join","removeClassName","regexp","replace","triggerReadyOnChild","child","_isReady","trigger","onReady","each","children","listenTo","configureView","_renderCount","viewsIndexedByCid","cid","ensureRendered","render","replaceHTML","html","hasDOMLib","isIE","fn","jquery","el","hasChildNodes","removeChild","childNodes","$el","empty","append","innerHTML","handleChangeFromEmptyToNotEmpty","emptyClass","_emptyViewInstance","remove","handleChangeFromNotEmptyToEmpty","emptyView","addChild","appendTo","applyVisibilityFilter","itemFilter","collection","forEach","applyItemVisiblityFilter","model","selector","modelCidAttributeName","els","querySelectorAll","style","display","itemShouldBeVisible","indexOf","deref","token","scope","match","segments","split","len","length","i","normalizeHTMLAttributeOptions","options","tag","tagName","appendChildViews","placeholders","document","viewPlaceholderAttributeName","placeholderId","getAttribute","view","viewTemplateOverrides","parentNode","replaceChild","VERSION","viewNameAttributeName","viewCidAttributeName","linkAttributeName","isIE11","navigator","userAgent","exec","toLowerCase","ElementProto","Element","prototype","elementAddEventListener","addEventListener","eventName","listener","attachEvent","View","extend","parent","template","VM","noop","context","isFunction","appendChild","target","apply","arguments","toString","setElement","response","setAttribute","_ensureElement","LayoutView","setView","oldView","_view","force","bind","_addChild","transition","getView","ItemView","attributes","CollectionView","itemView","initialize","reset","sort","change","add","index","appendItem","removeItem","previousModel","at","last","after","insertBefore","firstChild","querySelector","viewCid","updateFilter","Util","content","htmlAttributes","omit","map","value","key","formattedValue","expandToken","Utils","escapeExpression","isUndefined","input","re","ret","mapper","param","params","helper","shift","push","helpers","registerHelper","output","SafeString","url","fragment","head","encodeURIComponent","history","_hasPushState","substr","args","toArray","pop","hash","href","readyState","body","event","navigate","preventDefault","returnValue","closest","attr"],"mappings":"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"}