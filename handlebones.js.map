{"version":3,"file":"handlebones.js.map","sources":["handlebones.js"],"names":["root","factory","define","amd","_","Backbone","Handlebars","$","exports","Handlebones","require","jQuery","Zepto","ender","this","hasClassName","name","RegExp","test","className","addClassName","call","join","removeClassName","regexp","replace","triggerReadyOnChild","child","_isReady","trigger","onReady","each","children","configureView","_renderCount","viewsIndexedByCid","cid","listenTo","ensureRendered","render","replaceHTML","html","string","hasDOMLib","isIE","fn","jquery","el","hasChildNodes","removeChild","childNodes","$el","empty","append","innerHTML","handleChangeFromEmptyToNotEmpty","emptyClassName","_emptyViewInstance","remove","handleChangeFromNotEmptyToEmpty","emptyView","addChild","appendTo","applyVisibilityFilter","modelFilter","collection","forEach","model","applyModelVisiblityFilter","selector","modelCidAttributeName","style","display","modelShouldBeVisible","indexOf","useDocumentFragment","callback","document","createDocumentFragment","appendChild","deref","token","scope","encode","match","segments","split","len","length","i","isString","encodeURIComponent","appendChildViews","placeholders","viewPlaceholderAttributeName","placeholderId","getAttribute","view","parentNode","replaceChild","VERSION","viewNameAttributeName","viewCidAttributeName","isIE11","navigator","userAgent","exec","toLowerCase","View","extend","template","VM","noop","output","isFunction","context","parent","removeAttribute","response","prototype","apply","arguments","toString","setElement","setAttribute","_ensureElement","LayoutView","setView","oldView","_view","bind","getView","ModelView","initialize","attributes","CollectionView","modelView","reset","sort","change","add","index","addModel","removeModel","isUndefined","insertionPoint","previousModel","at","nextSibling","firstChild","insertBefore","viewCid","updateModelFilter","Util","tag","content","htmlAttributes","omit","tagName","space","keys","map","value","key","formattedValue","expandToken","Utils","escapeExpression","input","re","ret","mapper","param","params","helper","shift","push","helpers","registerHelper","SafeString","closest","attr"],"mappings":"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"}