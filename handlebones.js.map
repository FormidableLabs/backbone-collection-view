{"version":3,"file":"handlebones.js.map","sources":["handlebones.js"],"names":["root","factory","define","amd","_","Backbone","Handlebars","$","exports","Handlebones","require","jQuery","Zepto","ender","this","hasClassName","name","RegExp","test","className","addClassName","call","join","removeClassName","regexp","replace","triggerReadyOnChild","child","_isReady","trigger","onReady","each","children","listenTo","configureView","_renderCount","viewsIndexedByCid","cid","ensureRendered","render","replaceHTML","html","string","hasDOMLib","isIE","fn","jquery","el","hasChildNodes","removeChild","childNodes","$el","empty","append","innerHTML","handleChangeFromEmptyToNotEmpty","emptyClassName","_emptyViewInstance","remove","handleChangeFromNotEmptyToEmpty","emptyView","addChild","appendTo","applyVisibilityFilter","modelFilter","collection","forEach","model","applyModelVisiblityFilter","selector","modelCidAttributeName","style","display","modelShouldBeVisible","indexOf","useDocumentFragment","callback","document","createDocumentFragment","appendChild","deref","token","scope","encode","match","segments","split","len","length","i","isString","encodeURIComponent","appendChildViews","placeholders","viewPlaceholderAttributeName","placeholderId","getAttribute","view","parentNode","replaceChild","VERSION","viewNameAttributeName","viewCidAttributeName","isIE11","navigator","userAgent","exec","toLowerCase","View","extend","template","VM","noop","output","isFunction","context","target","parent","removeAttribute","response","prototype","apply","arguments","toString","setElement","setAttribute","_ensureElement","LayoutView","setView","oldView","_view","bind","getView","ModelView","initialize","attributes","CollectionView","modelView","reset","sort","change","add","index","addModel","removeModel","isUndefined","insertionPoint","previousModel","at","nextSibling","firstChild","insertBefore","viewCid","updateModelFilter","Util","tag","content","htmlAttributes","omit","tagName","map","value","key","formattedValue","expandToken","Utils","escapeExpression","input","re","ret","mapper","param","params","helper","shift","push","helpers","registerHelper","SafeString","closest","attr"],"mappings":"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"}